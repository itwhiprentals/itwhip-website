#!/usr/bin/env node
// scripts/add-booking-detail-keys.mjs
// Adds booking detail (bd) i18n keys to PartnerBookings namespace in all locale files

import { readFileSync, writeFileSync } from 'fs';
import { resolve, dirname } from 'path';
import { fileURLToPath } from 'url';

const __dirname = dirname(fileURLToPath(import.meta.url));
const messagesDir = resolve(__dirname, '..', 'messages');

const newKeys = {
  en: {
    // Error messages
    bdErrorLoadBooking: "Failed to load booking",
    bdErrorLoadDetails: "Failed to load booking details",
    bdBookingConfirmedSuccess: "Booking confirmed successfully",
    bdFailedConfirmBooking: "Failed to confirm booking",
    bdConfirmCancelBooking: "Are you sure you want to cancel this booking?",
    bdBookingCancelled: "Booking cancelled",
    bdFailedCancelBooking: "Failed to cancel booking",
    bdConfirmApproveBooking: "Are you sure you want to approve this booking? The guest will be charged.",
    bdBookingApprovedSuccess: "Booking approved — guest has been charged and notified",
    bdFailedApproveBooking: "Failed to approve booking",
    bdBookingRejectedSuccess: "Booking rejected — fleet has been notified",
    bdFailedRejectBooking: "Failed to reject booking",
    bdVerificationLinkSent: "Verification link sent to customer",
    bdCustomerAlreadyVerified: "Customer is already verified",
    bdFailedSendVerification: "Failed to send verification",
    bdFailedSendVerificationLink: "Failed to send verification link",
    bdAgreementSentSuccess: "Agreement sent successfully",
    bdAgreementAlreadySigned: "Agreement already signed",
    bdFailedSendAgreement: "Failed to send agreement",
    bdFailedSend: "Failed to send",
    bdFailedSendCommunication: "Failed to send communication",
    bdCopiedToClipboard: "Copied to clipboard",
    bdPaymentMarkedReceived: "Payment marked as received",
    bdFailedUpdatePayment: "Failed to update payment status",
    bdBookingNotFound: "Booking not found",
    bdChargeAddedSuccess: "Charge added successfully",
    bdFailedAddCharge: "Failed to add charge",
    bdRentalExtendedSuccess: "Rental extended successfully",
    bdFailedExtendRental: "Failed to extend rental",
    bdBookingUpdatedSuccess: "Booking updated successfully",
    bdFailedUpdateBooking: "Failed to update booking",

    // Page header
    bdBookingDetails: "Booking Details",
    bdBackToBookings: "Back to Bookings",

    // Action buttons
    bdApproveBooking: "Approve Booking",
    bdReject: "Reject",
    bdConfirmBooking: "Confirm Booking",
    bdCancel: "Cancel",
    bdApprove: "Approve",
    bdConfirm: "Confirm",

    // Reservation expiry
    bdReservationExpires: "Reservation expires",
    bdExpiredConfirmOrCancel: "Expired - confirm or it will be auto-cancelled",
    bdTimeRemainingToConfirm: "{hours}h {minutes}m remaining to confirm",

    // Host review banners
    bdYourApprovalRequired: "Your Approval Required",
    bdApprovalRequiredDesc: "ItWhip has approved this booking. Please review and approve or reject. The guest's payment is being held and they are waiting for your confirmation.",
    bdYouApprovedBooking: "You approved this booking",
    bdYouRejectedBooking: "You rejected this booking",
    bdReason: "Reason",

    // Vehicle section
    bdMi: "mi",
    bdDay: "day",
    bdViewVehicle: "View Vehicle",

    // Customer section
    bdContactViaPlatform: "Contact via ItWhip platform messaging",
    bdMemberSince: "Member since",
    bdViewProfile: "View Profile",

    // Guest badges
    bdVerified: "Verified",
    bdIdentityVerified: "Identity Verified",
    bdIdentityVerifiedDesc: "This guest's identity has been verified by the ItWhip platform through government-issued ID and AI-powered document verification.",
    bdInsured: "Insured",
    bdInsuranceCoverage: "Insurance Coverage",
    bdInsuranceCoverageDesc: "This booking includes insurance coverage selected by the guest during checkout. The ItWhip platform handles all insurance claims and liability.",
    bdPaymentHold: "Payment: Hold",
    bdPaymentOnHold: "Payment on Hold",
    bdPaymentOnHoldDesc: "The guest's payment is authorized and held by Stripe. The customer is charged when you approve this booking. If rejected, the hold is released automatically.",

    // Guest history
    bdGuestHistory: "Guest History",
    bdTotalBookings: "Total Bookings",
    bdSpentWithYou: "Spent with You",
    bdReturningGuest: "Returning guest — {count} previous {count, plural, one {booking} other {bookings}}",
    bdFirstBookingWithYou: "This is their first booking with you",

    // Rental period
    bdRentalPeriod: "Rental Period",
    bdPickup: "Pickup",
    bdReturn: "Return",
    bdAt: "at",
    bdPartnerLocation: "Partner Location",
    bdAirportPickup: "Airport Pickup",
    bdDelivery: "Delivery",
    bdBusinessLocation: "Business location",
    bdDaysCount: "{count} {count, plural, one {day} other {days}}",

    // Guest verification
    bdGuestVerification: "Guest Verification",
    bdPending: "Pending",
    bdFailed: "Failed",
    bdNotStarted: "Not Started",
    bdIdentityVerification: "Identity Verification",
    bdName: "Name",
    bdSendVerificationLink: "Send Verification Link",
    bdEmail: "Email",
    bdPhone: "Phone",

    // Rental agreement
    bdRentalAgreement: "Rental Agreement",
    bdSigned: "Signed",
    bdViewed: "Viewed",
    bdSent: "Sent",
    bdNotSent: "Not Sent",
    bdAgreementSigned: "Agreement Signed",
    bdSignedByOn: "Signed by {name} on {date}",
    bdCustomerReviewing: "Customer is Reviewing",
    bdAwaitingSignature: "Awaiting Signature",
    bdSentOn: "Sent on {date}",
    bdVehicleRentalAgreement: "Vehicle Rental Agreement",
    bdBooking: "Booking",
    bdRenterGuest: "Renter (Guest)",
    bdVehicleOwnerPartner: "Vehicle Owner (Partner)",
    bdVehicle: "Vehicle",
    bdSeats: "seats",
    bdPickupLocation: "Pickup Location",
    bdTotalDays: "Total Days",
    bdGoverningLaw: "Governing Law",
    bdStateOfArizona: "State of Arizona",
    bdVenue: "Venue",
    bdMaricopaCounty: "Maricopa County Superior Court",
    bdDownloadSignedAgreement: "Download Signed Agreement",
    bdPrintPreview: "Print Preview",
    bdResendAgreement: "Resend Agreement",
    bdSendForSignature: "Send for Signature",

    // Trip charges
    bdTripCharges: "Trip Charges",
    bdNoAdditionalCharges: "No additional charges",
    bdAddCharge: "Add Charge",

    // Notes
    bdNotes: "Notes",

    // Pricing / Earnings
    bdEarnings: "Earnings",
    bdPricing: "Pricing",
    bdRentalRate: "Rental ({rate} \u00d7 {days} days)",
    bdRental: "Rental",
    bdYourEarnings: "Your earnings",
    bdPlatformFee: "Platform fee (25%)",
    bdProcessingFee: "Processing fee",
    bdYouReceive: "You receive",
    bdDepositHeldOnCard: "{amount} deposit held on guest's card — returned after trip.",
    bdRateTimesDays: "{rate} \u00d7 {days} days",
    bdDeliveryFee: "Delivery fee",
    bdServiceFee: "Service fee",
    bdTaxes: "Taxes",
    bdTotal: "Total",
    bdSecurityDeposit: "Security deposit",
    bdPaymentColon: "Payment:",

    // Insurance
    bdInsurance: "Insurance",
    bdInsuranceVehicle: "Vehicle: {provider}",
    bdInsurancePartner: "Partner: {provider}",
    bdOwnPolicy: "Own Policy",
    bdBusinessPolicy: "Business Policy",
    bdGuestMustProvideInsurance: "Guest must provide insurance",

    // Quick actions
    bdQuickActions: "Quick Actions",
    bdEditBooking: "Edit Booking",
    bdLocked: "Locked",
    bdExtendRental: "Extend Rental",
    bdModifyDates: "Modify Dates",
    bdChangeCustomer: "Change Customer",
    bdChangeVehicle: "Change Vehicle",
    bdAddChargeAddon: "Add Charge / Add-On",
    bdNewBooking: "New Booking",

    // What's needed checklist
    bdWhatsNeeded: "What's Needed for This Booking",
    bdVerification: "Verification",
    bdHandledByItWhip: "Handled by ItWhip",
    bdPayment: "Payment",
    bdPaymentCaptured: "Payment captured",
    bdPaymentHeldPendingApproval: "Payment held — pending your approval",
    bdIdVerification: "ID Verification",
    bdSending: "Sending...",
    bdQuickSend: "Quick Send",
    bdVehicleCovered: "Vehicle covered",
    bdPartnerPolicy: "Partner policy",
    bdGuestNeedsInsurance: "Guest needs insurance",
    bdRequestInsurance: "Request Insurance",
    bdPaymentReceived: "Payment received",
    bdAwaitingPayment: "Awaiting payment",
    bdUpdating: "Updating...",
    bdMarkAsPaid: "Mark as Paid",
    bdAgreement: "Agreement",
    bdSignedBy: "Signed by {name}",
    bdNotSentYet: "Not sent yet",
    bdResend: "Resend",

    // Quick communication
    bdQuickCommunication: "Quick Communication",
    bdSendAgreement: "Send Agreement",
    bdSendBookingDetails: "Send Booking Details",
    bdSendPickupInstructions: "Send Pickup Instructions",
    bdSendKeysInstructions: "Send Keys Instructions",

    // Communication modal
    bdCommModalDisclaimer: "This will be sent to the guest via email through the ItWhip platform. Your email and phone are never shared.",
    bdPickupInstructionsLabel: "Where should the guest go and what should they know?",
    bdKeysInstructionsLabel: "How does the guest access the vehicle and keys?",
    bdPickupPlaceholder: "e.g., Meet at the parking garage Level 2, Spot A-15. Look for the white Toyota Camry. I'll be there 10 minutes before pickup time.",
    bdKeysPlaceholder: "e.g., The key is in a lockbox on the driver side door handle. Code: 1234. The car is parked at 123 Main St, Spot #5.",
    bdSendsRemaining: "{count} {count, plural, one {send} other {sends}} remaining",
    bdSendToGuest: "Send to Guest",

    // Reject modal
    bdRejectBooking: "Reject Booking",
    bdRejectBookingDesc: "The guest will not be notified directly. Our fleet team will handle next steps (reassign or cancel).",
    bdReasonForRejection: "Reason for rejection",
    bdRejectReasonPlaceholder: "e.g., Vehicle unavailable due to maintenance, scheduling conflict...",

    // Charge modal
    bdChargeType: "Charge Type",
    bdDamage: "Damage",
    bdCleaning: "Cleaning",
    bdLateFee: "Late Fee",
    bdMileageOverage: "Mileage Overage",
    bdFuel: "Fuel",
    bdOther: "Other",
    bdAmount: "Amount",
    bdDescription: "Description",
    bdDescribeCharge: "Describe the charge...",

    // Extend modal
    bdCurrentEndDate: "Current End Date",
    bdNewEndDate: "New End Date",
    bdAdditionalCostCalculated: "Additional cost will be calculated at {rate}/day",

    // Edit modal
    bdStartDate: "Start Date",
    bdEndDate: "End Date",
    bdPickupTime: "Pickup Time",
    bdReturnTime: "Return Time",
    bdEnterPickupLocation: "Enter pickup location",
    bdAdditionalNotes: "Additional notes...",
    bdSaveChanges: "Save Changes",
  },

  es: {
    bdErrorLoadBooking: "Error al cargar la reserva",
    bdErrorLoadDetails: "Error al cargar los detalles de la reserva",
    bdBookingConfirmedSuccess: "Reserva confirmada exitosamente",
    bdFailedConfirmBooking: "Error al confirmar la reserva",
    bdConfirmCancelBooking: "\u00bfEst\u00e1s seguro de que deseas cancelar esta reserva?",
    bdBookingCancelled: "Reserva cancelada",
    bdFailedCancelBooking: "Error al cancelar la reserva",
    bdConfirmApproveBooking: "\u00bfEst\u00e1s seguro de que deseas aprobar esta reserva? Se cobrar\u00e1 al hu\u00e9sped.",
    bdBookingApprovedSuccess: "Reserva aprobada \u2014 el hu\u00e9sped ha sido cobrado y notificado",
    bdFailedApproveBooking: "Error al aprobar la reserva",
    bdBookingRejectedSuccess: "Reserva rechazada \u2014 el equipo de flota ha sido notificado",
    bdFailedRejectBooking: "Error al rechazar la reserva",
    bdVerificationLinkSent: "Enlace de verificaci\u00f3n enviado al cliente",
    bdCustomerAlreadyVerified: "El cliente ya est\u00e1 verificado",
    bdFailedSendVerification: "Error al enviar la verificaci\u00f3n",
    bdFailedSendVerificationLink: "Error al enviar el enlace de verificaci\u00f3n",
    bdAgreementSentSuccess: "Acuerdo enviado exitosamente",
    bdAgreementAlreadySigned: "Acuerdo ya firmado",
    bdFailedSendAgreement: "Error al enviar el acuerdo",
    bdFailedSend: "Error al enviar",
    bdFailedSendCommunication: "Error al enviar la comunicaci\u00f3n",
    bdCopiedToClipboard: "Copiado al portapapeles",
    bdPaymentMarkedReceived: "Pago marcado como recibido",
    bdFailedUpdatePayment: "Error al actualizar el estado del pago",
    bdBookingNotFound: "Reserva no encontrada",
    bdChargeAddedSuccess: "Cargo agregado exitosamente",
    bdFailedAddCharge: "Error al agregar el cargo",
    bdRentalExtendedSuccess: "Alquiler extendido exitosamente",
    bdFailedExtendRental: "Error al extender el alquiler",
    bdBookingUpdatedSuccess: "Reserva actualizada exitosamente",
    bdFailedUpdateBooking: "Error al actualizar la reserva",
    bdBookingDetails: "Detalles de la Reserva",
    bdBackToBookings: "Volver a Reservas",
    bdApproveBooking: "Aprobar Reserva",
    bdReject: "Rechazar",
    bdConfirmBooking: "Confirmar Reserva",
    bdCancel: "Cancelar",
    bdApprove: "Aprobar",
    bdConfirm: "Confirmar",
    bdReservationExpires: "La reserva expira",
    bdExpiredConfirmOrCancel: "Expirada - confirma o se cancelar\u00e1 autom\u00e1ticamente",
    bdTimeRemainingToConfirm: "{hours}h {minutes}m restantes para confirmar",
    bdYourApprovalRequired: "Se Requiere Tu Aprobaci\u00f3n",
    bdApprovalRequiredDesc: "ItWhip ha aprobado esta reserva. Por favor rev\u00edsala y aprueba o rechaza. El pago del hu\u00e9sped est\u00e1 retenido y est\u00e1n esperando tu confirmaci\u00f3n.",
    bdYouApprovedBooking: "Aprobaste esta reserva",
    bdYouRejectedBooking: "Rechazaste esta reserva",
    bdReason: "Raz\u00f3n",
    bdMi: "mi",
    bdDay: "d\u00eda",
    bdViewVehicle: "Ver Veh\u00edculo",
    bdContactViaPlatform: "Contactar a trav\u00e9s de la plataforma ItWhip",
    bdMemberSince: "Miembro desde",
    bdViewProfile: "Ver Perfil",
    bdVerified: "Verificado",
    bdIdentityVerified: "Identidad Verificada",
    bdIdentityVerifiedDesc: "La identidad de este hu\u00e9sped ha sido verificada por la plataforma ItWhip mediante identificaci\u00f3n oficial y verificaci\u00f3n de documentos con IA.",
    bdInsured: "Asegurado",
    bdInsuranceCoverage: "Cobertura de Seguro",
    bdInsuranceCoverageDesc: "Esta reserva incluye cobertura de seguro seleccionada por el hu\u00e9sped durante el pago. La plataforma ItWhip gestiona todas las reclamaciones y responsabilidades.",
    bdPaymentHold: "Pago: Retenido",
    bdPaymentOnHold: "Pago en Espera",
    bdPaymentOnHoldDesc: "El pago del hu\u00e9sped est\u00e1 autorizado y retenido por Stripe. El cliente es cobrado cuando apruebas esta reserva. Si es rechazada, la retenci\u00f3n se libera autom\u00e1ticamente.",
    bdGuestHistory: "Historial del Hu\u00e9sped",
    bdTotalBookings: "Total de Reservas",
    bdSpentWithYou: "Gastado Contigo",
    bdReturningGuest: "Hu\u00e9sped recurrente \u2014 {count} {count, plural, one {reserva anterior} other {reservas anteriores}}",
    bdFirstBookingWithYou: "Esta es su primera reserva contigo",
    bdRentalPeriod: "Per\u00edodo de Alquiler",
    bdPickup: "Recogida",
    bdReturn: "Devoluci\u00f3n",
    bdAt: "a las",
    bdPartnerLocation: "Ubicaci\u00f3n del Socio",
    bdAirportPickup: "Recogida en Aeropuerto",
    bdDelivery: "Entrega",
    bdBusinessLocation: "Ubicaci\u00f3n del negocio",
    bdDaysCount: "{count} {count, plural, one {d\u00eda} other {d\u00edas}}",
    bdGuestVerification: "Verificaci\u00f3n del Hu\u00e9sped",
    bdPending: "Pendiente",
    bdFailed: "Fallido",
    bdNotStarted: "No Iniciado",
    bdIdentityVerification: "Verificaci\u00f3n de Identidad",
    bdName: "Nombre",
    bdSendVerificationLink: "Enviar Enlace de Verificaci\u00f3n",
    bdEmail: "Correo",
    bdPhone: "Tel\u00e9fono",
    bdRentalAgreement: "Contrato de Alquiler",
    bdSigned: "Firmado",
    bdViewed: "Visto",
    bdSent: "Enviado",
    bdNotSent: "No Enviado",
    bdAgreementSigned: "Acuerdo Firmado",
    bdSignedByOn: "Firmado por {name} el {date}",
    bdCustomerReviewing: "El Cliente est\u00e1 Revisando",
    bdAwaitingSignature: "Esperando Firma",
    bdSentOn: "Enviado el {date}",
    bdVehicleRentalAgreement: "Contrato de Alquiler de Veh\u00edculo",
    bdBooking: "Reserva",
    bdRenterGuest: "Arrendatario (Hu\u00e9sped)",
    bdVehicleOwnerPartner: "Propietario del Veh\u00edculo (Socio)",
    bdVehicle: "Veh\u00edculo",
    bdSeats: "asientos",
    bdPickupLocation: "Lugar de Recogida",
    bdTotalDays: "Total de D\u00edas",
    bdGoverningLaw: "Ley Aplicable",
    bdStateOfArizona: "Estado de Arizona",
    bdVenue: "Jurisdicci\u00f3n",
    bdMaricopaCounty: "Tribunal Superior del Condado de Maricopa",
    bdDownloadSignedAgreement: "Descargar Acuerdo Firmado",
    bdPrintPreview: "Vista Previa de Impresi\u00f3n",
    bdResendAgreement: "Reenviar Acuerdo",
    bdSendForSignature: "Enviar para Firma",
    bdTripCharges: "Cargos del Viaje",
    bdNoAdditionalCharges: "Sin cargos adicionales",
    bdAddCharge: "Agregar Cargo",
    bdNotes: "Notas",
    bdEarnings: "Ganancias",
    bdPricing: "Precios",
    bdRentalRate: "Alquiler ({rate} \u00d7 {days} d\u00edas)",
    bdRental: "Alquiler",
    bdYourEarnings: "Tus ganancias",
    bdPlatformFee: "Comisi\u00f3n de plataforma (25%)",
    bdProcessingFee: "Tarifa de procesamiento",
    bdYouReceive: "T\u00fa recibes",
    bdDepositHeldOnCard: "{amount} dep\u00f3sito retenido en la tarjeta del hu\u00e9sped \u2014 devuelto despu\u00e9s del viaje.",
    bdRateTimesDays: "{rate} \u00d7 {days} d\u00edas",
    bdDeliveryFee: "Tarifa de entrega",
    bdServiceFee: "Tarifa de servicio",
    bdTaxes: "Impuestos",
    bdTotal: "Total",
    bdSecurityDeposit: "Dep\u00f3sito de seguridad",
    bdPaymentColon: "Pago:",
    bdInsurance: "Seguro",
    bdInsuranceVehicle: "Veh\u00edculo: {provider}",
    bdInsurancePartner: "Socio: {provider}",
    bdOwnPolicy: "P\u00f3liza Propia",
    bdBusinessPolicy: "P\u00f3liza Empresarial",
    bdGuestMustProvideInsurance: "El hu\u00e9sped debe proporcionar seguro",
    bdQuickActions: "Acciones R\u00e1pidas",
    bdEditBooking: "Editar Reserva",
    bdLocked: "Bloqueado",
    bdExtendRental: "Extender Alquiler",
    bdModifyDates: "Modificar Fechas",
    bdChangeCustomer: "Cambiar Cliente",
    bdChangeVehicle: "Cambiar Veh\u00edculo",
    bdAddChargeAddon: "Agregar Cargo / Complemento",
    bdNewBooking: "Nueva Reserva",
    bdWhatsNeeded: "Lo Necesario para Esta Reserva",
    bdVerification: "Verificaci\u00f3n",
    bdHandledByItWhip: "Gestionado por ItWhip",
    bdPayment: "Pago",
    bdPaymentCaptured: "Pago capturado",
    bdPaymentHeldPendingApproval: "Pago retenido \u2014 pendiente de tu aprobaci\u00f3n",
    bdIdVerification: "Verificaci\u00f3n de ID",
    bdSending: "Enviando...",
    bdQuickSend: "Env\u00edo R\u00e1pido",
    bdVehicleCovered: "Veh\u00edculo cubierto",
    bdPartnerPolicy: "P\u00f3liza del socio",
    bdGuestNeedsInsurance: "El hu\u00e9sped necesita seguro",
    bdRequestInsurance: "Solicitar Seguro",
    bdPaymentReceived: "Pago recibido",
    bdAwaitingPayment: "Esperando pago",
    bdUpdating: "Actualizando...",
    bdMarkAsPaid: "Marcar como Pagado",
    bdAgreement: "Acuerdo",
    bdSignedBy: "Firmado por {name}",
    bdNotSentYet: "A\u00fan no enviado",
    bdResend: "Reenviar",
    bdQuickCommunication: "Comunicaci\u00f3n R\u00e1pida",
    bdSendAgreement: "Enviar Acuerdo",
    bdSendBookingDetails: "Enviar Detalles de Reserva",
    bdSendPickupInstructions: "Enviar Instrucciones de Recogida",
    bdSendKeysInstructions: "Enviar Instrucciones de Llaves",
    bdCommModalDisclaimer: "Esto se enviar\u00e1 al hu\u00e9sped por correo electr\u00f3nico a trav\u00e9s de la plataforma ItWhip. Tu correo y tel\u00e9fono nunca se comparten.",
    bdPickupInstructionsLabel: "\u00bfA d\u00f3nde debe ir el hu\u00e9sped y qu\u00e9 debe saber?",
    bdKeysInstructionsLabel: "\u00bfC\u00f3mo accede el hu\u00e9sped al veh\u00edculo y las llaves?",
    bdPickupPlaceholder: "Ej., Encuentro en el estacionamiento Nivel 2, Lugar A-15. Busca el Toyota Camry blanco. Estar\u00e9 all\u00ed 10 minutos antes de la hora de recogida.",
    bdKeysPlaceholder: "Ej., La llave est\u00e1 en una caja de seguridad en la manija de la puerta del conductor. C\u00f3digo: 1234. El auto est\u00e1 estacionado en 123 Main St, Lugar #5.",
    bdSendsRemaining: "{count} {count, plural, one {env\u00edo} other {env\u00edos}} restante{count, plural, one {} other {s}}",
    bdSendToGuest: "Enviar al Hu\u00e9sped",
    bdRejectBooking: "Rechazar Reserva",
    bdRejectBookingDesc: "El hu\u00e9sped no ser\u00e1 notificado directamente. Nuestro equipo de flota gestionar\u00e1 los pr\u00f3ximos pasos (reasignar o cancelar).",
    bdReasonForRejection: "Raz\u00f3n del rechazo",
    bdRejectReasonPlaceholder: "Ej., Veh\u00edculo no disponible por mantenimiento, conflicto de horario...",
    bdChargeType: "Tipo de Cargo",
    bdDamage: "Da\u00f1o",
    bdCleaning: "Limpieza",
    bdLateFee: "Cargo por Retraso",
    bdMileageOverage: "Exceso de Kilometraje",
    bdFuel: "Combustible",
    bdOther: "Otro",
    bdAmount: "Monto",
    bdDescription: "Descripci\u00f3n",
    bdDescribeCharge: "Describe el cargo...",
    bdCurrentEndDate: "Fecha de Fin Actual",
    bdNewEndDate: "Nueva Fecha de Fin",
    bdAdditionalCostCalculated: "El costo adicional se calcular\u00e1 a {rate}/d\u00eda",
    bdStartDate: "Fecha de Inicio",
    bdEndDate: "Fecha de Fin",
    bdPickupTime: "Hora de Recogida",
    bdReturnTime: "Hora de Devoluci\u00f3n",
    bdEnterPickupLocation: "Ingresa el lugar de recogida",
    bdAdditionalNotes: "Notas adicionales...",
    bdSaveChanges: "Guardar Cambios",
  },

  fr: {
    bdErrorLoadBooking: "\u00c9chec du chargement de la r\u00e9servation",
    bdErrorLoadDetails: "\u00c9chec du chargement des d\u00e9tails de la r\u00e9servation",
    bdBookingConfirmedSuccess: "R\u00e9servation confirm\u00e9e avec succ\u00e8s",
    bdFailedConfirmBooking: "\u00c9chec de la confirmation de la r\u00e9servation",
    bdConfirmCancelBooking: "\u00cates-vous s\u00fbr de vouloir annuler cette r\u00e9servation ?",
    bdBookingCancelled: "R\u00e9servation annul\u00e9e",
    bdFailedCancelBooking: "\u00c9chec de l'annulation de la r\u00e9servation",
    bdConfirmApproveBooking: "\u00cates-vous s\u00fbr de vouloir approuver cette r\u00e9servation ? Le client sera d\u00e9bit\u00e9.",
    bdBookingApprovedSuccess: "R\u00e9servation approuv\u00e9e \u2014 le client a \u00e9t\u00e9 d\u00e9bit\u00e9 et notifi\u00e9",
    bdFailedApproveBooking: "\u00c9chec de l'approbation de la r\u00e9servation",
    bdBookingRejectedSuccess: "R\u00e9servation rejet\u00e9e \u2014 l'\u00e9quipe de flotte a \u00e9t\u00e9 notifi\u00e9e",
    bdFailedRejectBooking: "\u00c9chec du rejet de la r\u00e9servation",
    bdVerificationLinkSent: "Lien de v\u00e9rification envoy\u00e9 au client",
    bdCustomerAlreadyVerified: "Le client est d\u00e9j\u00e0 v\u00e9rifi\u00e9",
    bdFailedSendVerification: "\u00c9chec de l'envoi de la v\u00e9rification",
    bdFailedSendVerificationLink: "\u00c9chec de l'envoi du lien de v\u00e9rification",
    bdAgreementSentSuccess: "Accord envoy\u00e9 avec succ\u00e8s",
    bdAgreementAlreadySigned: "Accord d\u00e9j\u00e0 sign\u00e9",
    bdFailedSendAgreement: "\u00c9chec de l'envoi de l'accord",
    bdFailedSend: "\u00c9chec de l'envoi",
    bdFailedSendCommunication: "\u00c9chec de l'envoi de la communication",
    bdCopiedToClipboard: "Copi\u00e9 dans le presse-papiers",
    bdPaymentMarkedReceived: "Paiement marqu\u00e9 comme re\u00e7u",
    bdFailedUpdatePayment: "\u00c9chec de la mise \u00e0 jour du statut de paiement",
    bdBookingNotFound: "R\u00e9servation non trouv\u00e9e",
    bdChargeAddedSuccess: "Frais ajout\u00e9 avec succ\u00e8s",
    bdFailedAddCharge: "\u00c9chec de l'ajout du frais",
    bdRentalExtendedSuccess: "Location prolong\u00e9e avec succ\u00e8s",
    bdFailedExtendRental: "\u00c9chec de la prolongation de la location",
    bdBookingUpdatedSuccess: "R\u00e9servation mise \u00e0 jour avec succ\u00e8s",
    bdFailedUpdateBooking: "\u00c9chec de la mise \u00e0 jour de la r\u00e9servation",
    bdBookingDetails: "D\u00e9tails de la R\u00e9servation",
    bdBackToBookings: "Retour aux R\u00e9servations",
    bdApproveBooking: "Approuver la R\u00e9servation",
    bdReject: "Rejeter",
    bdConfirmBooking: "Confirmer la R\u00e9servation",
    bdCancel: "Annuler",
    bdApprove: "Approuver",
    bdConfirm: "Confirmer",
    bdReservationExpires: "La r\u00e9servation expire",
    bdExpiredConfirmOrCancel: "Expir\u00e9e - confirmez ou elle sera annul\u00e9e automatiquement",
    bdTimeRemainingToConfirm: "{hours}h {minutes}m restantes pour confirmer",
    bdYourApprovalRequired: "Votre Approbation est Requise",
    bdApprovalRequiredDesc: "ItWhip a approuv\u00e9 cette r\u00e9servation. Veuillez l'examiner et approuver ou rejeter. Le paiement du client est retenu et il attend votre confirmation.",
    bdYouApprovedBooking: "Vous avez approuv\u00e9 cette r\u00e9servation",
    bdYouRejectedBooking: "Vous avez rejet\u00e9 cette r\u00e9servation",
    bdReason: "Raison",
    bdMi: "mi",
    bdDay: "jour",
    bdViewVehicle: "Voir le V\u00e9hicule",
    bdContactViaPlatform: "Contacter via la plateforme ItWhip",
    bdMemberSince: "Membre depuis",
    bdViewProfile: "Voir le Profil",
    bdVerified: "V\u00e9rifi\u00e9",
    bdIdentityVerified: "Identit\u00e9 V\u00e9rifi\u00e9e",
    bdIdentityVerifiedDesc: "L'identit\u00e9 de ce client a \u00e9t\u00e9 v\u00e9rifi\u00e9e par la plateforme ItWhip via une pi\u00e8ce d'identit\u00e9 officielle et une v\u00e9rification de documents assist\u00e9e par IA.",
    bdInsured: "Assur\u00e9",
    bdInsuranceCoverage: "Couverture d'Assurance",
    bdInsuranceCoverageDesc: "Cette r\u00e9servation inclut une couverture d'assurance s\u00e9lectionn\u00e9e par le client lors du paiement. La plateforme ItWhip g\u00e8re toutes les r\u00e9clamations et responsabilit\u00e9s.",
    bdPaymentHold: "Paiement : Retenu",
    bdPaymentOnHold: "Paiement en Attente",
    bdPaymentOnHoldDesc: "Le paiement du client est autoris\u00e9 et retenu par Stripe. Le client est d\u00e9bit\u00e9 lorsque vous approuvez cette r\u00e9servation. En cas de rejet, la retenue est lib\u00e9r\u00e9e automatiquement.",
    bdGuestHistory: "Historique du Client",
    bdTotalBookings: "Total des R\u00e9servations",
    bdSpentWithYou: "D\u00e9pens\u00e9 chez Vous",
    bdReturningGuest: "Client r\u00e9current \u2014 {count} {count, plural, one {r\u00e9servation pr\u00e9c\u00e9dente} other {r\u00e9servations pr\u00e9c\u00e9dentes}}",
    bdFirstBookingWithYou: "C'est sa premi\u00e8re r\u00e9servation chez vous",
    bdRentalPeriod: "P\u00e9riode de Location",
    bdPickup: "Prise en charge",
    bdReturn: "Retour",
    bdAt: "\u00e0",
    bdPartnerLocation: "Emplacement du Partenaire",
    bdAirportPickup: "Prise en charge \u00e0 l'A\u00e9roport",
    bdDelivery: "Livraison",
    bdBusinessLocation: "Emplacement de l'entreprise",
    bdDaysCount: "{count} {count, plural, one {jour} other {jours}}",
    bdGuestVerification: "V\u00e9rification du Client",
    bdPending: "En attente",
    bdFailed: "\u00c9chou\u00e9",
    bdNotStarted: "Non commenc\u00e9",
    bdIdentityVerification: "V\u00e9rification d'Identit\u00e9",
    bdName: "Nom",
    bdSendVerificationLink: "Envoyer le Lien de V\u00e9rification",
    bdEmail: "E-mail",
    bdPhone: "T\u00e9l\u00e9phone",
    bdRentalAgreement: "Contrat de Location",
    bdSigned: "Sign\u00e9",
    bdViewed: "Consult\u00e9",
    bdSent: "Envoy\u00e9",
    bdNotSent: "Non Envoy\u00e9",
    bdAgreementSigned: "Accord Sign\u00e9",
    bdSignedByOn: "Sign\u00e9 par {name} le {date}",
    bdCustomerReviewing: "Le Client Examine",
    bdAwaitingSignature: "En Attente de Signature",
    bdSentOn: "Envoy\u00e9 le {date}",
    bdVehicleRentalAgreement: "Contrat de Location de V\u00e9hicule",
    bdBooking: "R\u00e9servation",
    bdRenterGuest: "Locataire (Client)",
    bdVehicleOwnerPartner: "Propri\u00e9taire du V\u00e9hicule (Partenaire)",
    bdVehicle: "V\u00e9hicule",
    bdSeats: "si\u00e8ges",
    bdPickupLocation: "Lieu de Prise en Charge",
    bdTotalDays: "Total des Jours",
    bdGoverningLaw: "Loi Applicable",
    bdStateOfArizona: "\u00c9tat de l'Arizona",
    bdVenue: "Juridiction",
    bdMaricopaCounty: "Cour Sup\u00e9rieure du Comt\u00e9 de Maricopa",
    bdDownloadSignedAgreement: "T\u00e9l\u00e9charger l'Accord Sign\u00e9",
    bdPrintPreview: "Aper\u00e7u d'Impression",
    bdResendAgreement: "Renvoyer l'Accord",
    bdSendForSignature: "Envoyer pour Signature",
    bdTripCharges: "Frais du Trajet",
    bdNoAdditionalCharges: "Aucun frais suppl\u00e9mentaire",
    bdAddCharge: "Ajouter un Frais",
    bdNotes: "Notes",
    bdEarnings: "Revenus",
    bdPricing: "Tarification",
    bdRentalRate: "Location ({rate} \u00d7 {days} jours)",
    bdRental: "Location",
    bdYourEarnings: "Vos revenus",
    bdPlatformFee: "Commission plateforme (25%)",
    bdProcessingFee: "Frais de traitement",
    bdYouReceive: "Vous recevez",
    bdDepositHeldOnCard: "{amount} d\u00e9p\u00f4t retenu sur la carte du client \u2014 restitu\u00e9 apr\u00e8s le trajet.",
    bdRateTimesDays: "{rate} \u00d7 {days} jours",
    bdDeliveryFee: "Frais de livraison",
    bdServiceFee: "Frais de service",
    bdTaxes: "Taxes",
    bdTotal: "Total",
    bdSecurityDeposit: "D\u00e9p\u00f4t de garantie",
    bdPaymentColon: "Paiement :",
    bdInsurance: "Assurance",
    bdInsuranceVehicle: "V\u00e9hicule : {provider}",
    bdInsurancePartner: "Partenaire : {provider}",
    bdOwnPolicy: "Propre Police",
    bdBusinessPolicy: "Police Professionnelle",
    bdGuestMustProvideInsurance: "Le client doit fournir une assurance",
    bdQuickActions: "Actions Rapides",
    bdEditBooking: "Modifier la R\u00e9servation",
    bdLocked: "Verrouill\u00e9",
    bdExtendRental: "Prolonger la Location",
    bdModifyDates: "Modifier les Dates",
    bdChangeCustomer: "Changer de Client",
    bdChangeVehicle: "Changer de V\u00e9hicule",
    bdAddChargeAddon: "Ajouter un Frais / Option",
    bdNewBooking: "Nouvelle R\u00e9servation",
    bdWhatsNeeded: "Ce qui est N\u00e9cessaire pour cette R\u00e9servation",
    bdVerification: "V\u00e9rification",
    bdHandledByItWhip: "G\u00e9r\u00e9 par ItWhip",
    bdPayment: "Paiement",
    bdPaymentCaptured: "Paiement encaiss\u00e9",
    bdPaymentHeldPendingApproval: "Paiement retenu \u2014 en attente de votre approbation",
    bdIdVerification: "V\u00e9rification d'Identit\u00e9",
    bdSending: "Envoi en cours...",
    bdQuickSend: "Envoi Rapide",
    bdVehicleCovered: "V\u00e9hicule couvert",
    bdPartnerPolicy: "Police du partenaire",
    bdGuestNeedsInsurance: "Le client a besoin d'une assurance",
    bdRequestInsurance: "Demander une Assurance",
    bdPaymentReceived: "Paiement re\u00e7u",
    bdAwaitingPayment: "En attente de paiement",
    bdUpdating: "Mise \u00e0 jour...",
    bdMarkAsPaid: "Marquer comme Pay\u00e9",
    bdAgreement: "Accord",
    bdSignedBy: "Sign\u00e9 par {name}",
    bdNotSentYet: "Pas encore envoy\u00e9",
    bdResend: "Renvoyer",
    bdQuickCommunication: "Communication Rapide",
    bdSendAgreement: "Envoyer l'Accord",
    bdSendBookingDetails: "Envoyer les D\u00e9tails de R\u00e9servation",
    bdSendPickupInstructions: "Envoyer les Instructions de Prise en Charge",
    bdSendKeysInstructions: "Envoyer les Instructions pour les Cl\u00e9s",
    bdCommModalDisclaimer: "Ceci sera envoy\u00e9 au client par e-mail via la plateforme ItWhip. Votre e-mail et t\u00e9l\u00e9phone ne sont jamais partag\u00e9s.",
    bdPickupInstructionsLabel: "O\u00f9 doit se rendre le client et que doit-il savoir ?",
    bdKeysInstructionsLabel: "Comment le client acc\u00e8de-t-il au v\u00e9hicule et aux cl\u00e9s ?",
    bdPickupPlaceholder: "Ex., Rendez-vous au parking Niveau 2, Place A-15. Cherchez la Toyota Camry blanche. Je serai l\u00e0 10 minutes avant l'heure de prise en charge.",
    bdKeysPlaceholder: "Ex., La cl\u00e9 est dans un bo\u00eetier \u00e0 code sur la poign\u00e9e de la porte conducteur. Code : 1234. La voiture est gar\u00e9e au 123 Main St, Place n\u00b05.",
    bdSendsRemaining: "{count} {count, plural, one {envoi} other {envois}} restant{count, plural, one {} other {s}}",
    bdSendToGuest: "Envoyer au Client",
    bdRejectBooking: "Rejeter la R\u00e9servation",
    bdRejectBookingDesc: "Le client ne sera pas notifi\u00e9 directement. Notre \u00e9quipe de flotte g\u00e9rera les prochaines \u00e9tapes (r\u00e9attribution ou annulation).",
    bdReasonForRejection: "Raison du rejet",
    bdRejectReasonPlaceholder: "Ex., V\u00e9hicule indisponible pour maintenance, conflit d'horaire...",
    bdChargeType: "Type de Frais",
    bdDamage: "Dommage",
    bdCleaning: "Nettoyage",
    bdLateFee: "Frais de Retard",
    bdMileageOverage: "D\u00e9passement de Kilom\u00e9trage",
    bdFuel: "Carburant",
    bdOther: "Autre",
    bdAmount: "Montant",
    bdDescription: "Description",
    bdDescribeCharge: "D\u00e9crivez le frais...",
    bdCurrentEndDate: "Date de Fin Actuelle",
    bdNewEndDate: "Nouvelle Date de Fin",
    bdAdditionalCostCalculated: "Le co\u00fbt suppl\u00e9mentaire sera calcul\u00e9 \u00e0 {rate}/jour",
    bdStartDate: "Date de D\u00e9but",
    bdEndDate: "Date de Fin",
    bdPickupTime: "Heure de Prise en Charge",
    bdReturnTime: "Heure de Retour",
    bdEnterPickupLocation: "Entrez le lieu de prise en charge",
    bdAdditionalNotes: "Notes suppl\u00e9mentaires...",
    bdSaveChanges: "Enregistrer les Modifications",
  }
};

const locales = ['en', 'es', 'fr'];
const summary = {};

for (const locale of locales) {
  const filePath = resolve(messagesDir, `${locale}.json`);
  let data;
  try {
    data = JSON.parse(readFileSync(filePath, 'utf-8'));
  } catch (err) {
    console.error(`Error reading ${filePath}:`, err.message);
    continue;
  }

  if (!data.PartnerBookings) {
    data.PartnerBookings = {};
  }

  let added = 0;
  let skipped = 0;
  const keysForLocale = newKeys[locale];

  for (const [key, value] of Object.entries(keysForLocale)) {
    if (data.PartnerBookings[key] !== undefined) {
      skipped++;
    } else {
      data.PartnerBookings[key] = value;
      added++;
    }
  }

  writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf-8');
  summary[locale] = { added, skipped, total: Object.keys(keysForLocale).length };
  console.log(`${locale}.json: Added ${added} keys, skipped ${skipped} existing (${Object.keys(keysForLocale).length} total)`);
}

console.log('\nDone! Summary:', JSON.stringify(summary, null, 2));
